\section{Population command and subcommand syntax\label{sec:population-syntax}}

\subsection{Model structure}

\defCom{Model}{Define the spatial structure, population structure, annual cycle, and model years}

\defSub{CellLength}{The length (distance) of one side of a cell}
\defType{Constant}
\defDefault{1}
\defValue{A positive real number}

\defSub{Nrows}{The number of rows $n_{rows}$ in the spatial structure}
\defType{Integer}
\defDefault{None}
\defValue{A positive integer, $n_{rows} > 0$}

\defSub{Ncols}{The number of columns $n_{cols}$ in the spatial structure}
\defType{Integer}
\defDefault{None}
\defValue{A positive integer, $n_{cols} > 0$}

\defSub{BaseLayer}{The label for the base layer}
\defType{String}
\defDefault{None}
\defValue{Must be a label of a \argument{numeric} layer defined by \command{Layer}}

\defSub{Categories} {Labels of the categories (rows) of the population component of the partition}
\defType{Vector of strings, of length $1\ldots n_{categories}$}
\defDefault{None}
\defValue{Names of categories must be unique}

\defSub{SizeAtAges} {Define the label of the associated size-at-age relationship for each category}
\defType{Vector of strings, of length $1\ldots n_{categories}$}
\defDefault{None}
\defValue{Names of SizeAtAge labels must be unique}

\defSub{MinAge}{Minimum age of the population}
\defType{Integer}
\defDefault{None}
\defValue{A non-negative integer, ${Age}_{min}\geq 0$ and ${Age}_{min}\leq {Age}_{max}$}

\defSub{MaxAge}{Maximum age of the population}
\defType{Integer}
\defDefault{None}
\defValue{A non-negative integer, ${Age}_{max}\geq 0$ and ${Age}_{min}\geq {Age}_{min}$}

\defSub{PlusGroup}{Define the largest age as a plus group}
\defType{Switch}
\defDefault{True}
\defValue{Defines  the largest age as a plus group}

\defSub{InitialisationPhases}{Define the labels of the phases of the initialisation}
\defType{Vector of strings, of length of the number of initialisation phases}
\defDefault{None}
\defValue{A valid label defined by \command{InitialisationPhases}}

\defSub{InitialYear}{Define the first year of the model, immediately following initialisation}
\defType{Integer}
\defDefault{None}
\defValue{Defines the first year of the model, $\geq 1$, e.g. 1990}

\defSub{CurrentYear}{Define the current year of the model}
\defType{Integer}
\defDefault{None}
\defValue{Defines the current year of the model, i.e., the model is run from \commandsub{Model}{.FirstYear}\ to \commandsub{Model}{CurrentYear}}

\defSub{FinalYear}{Define the final year of the model in projections}
\defType{Integer}
\defDefault{None}
\defValue{Defines the final year of the model for use in projections, i.e., the model is run from \commandsub{Model}{.FirstYear} to \commandsub{Model}{CurrentYear}, then projected to \commandsub{Model}{.FinalYear}}

\defSub{TimeSteps} {Define the \command{TimeStep} labels (in order that they are applied) to form the annual cycle}
\defType{String vector}
\defDefault{None}
\defValue{Defines the labels of the time steps that are run in each year}

\defComLab{InitialisationPhase}{Define the processes and years of the initialisation phase with label}

\defSub{Years} {Define the number of years to run}
\defType{Integer}
\defDefault{None}
\defValue{A non-negative integer}

\defSub{Processes} {Define the processes (in order of occurrence) to run in each year of the initialisation}
\defType{String vector}
\defDefault{None}
\defValue{A valid process label}

\defComLab{TimeStep} {Define a time step with label}

\defSub{Processes} {Define the process labels, in the order that they are applied, for the time step}
\defType{String vector}
\defDefault{None}
\defValue{Defines the labels of the processes for that time step}

\subsection{Processes}

The population processes available are, 

\begin{itemize}
	\item Constant recruitment process
  \item Beverton-Holt stock-recruit relationship recruitment process
	\item Ageing process
	\item Constant mortality rate process
	\item Annually varying mortality rate process
	\item Mortality event (as a number) process
	\item Mortality event (as a biomass) process
	\item Category transition process
	\item Category shift process
\end{itemize}

The movement processes available are,	

\begin{itemize}
	\item Migration movement
	\item Adjacent cell movement
	\item Preference movement
\end{itemize}

Each type of process requires a set of subcommands and arguments specific to that process.

\defComLab{Process} {Define a process with label}

\defSub{Type} {Define the type of process}
\defType{String}
\defDefault{None}
\defValue{A valid type of process}

\subsubsection[Constant recruitment process]{\commandlabsubarg{Process}{Type}{ConstantRecruitment}} 

\defSub{R0} {Define the total amount of recruitment at equilibrium abundance levels}
\defType{Estimable}
\defDefault{None}
\defValue{Total amount (in numbers) of recruitment applied across all categories at equilibrium abundances}

\defSub{Categories} {Define the categories into which recruitment occurs}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Proportions} {Define the proportion of recruitment that occurs into each category}
\defType{Estimable vector of length \commandlabsub{ConstantRecruitment}{Categories}}
\defDefault{None}
\defValue{Proportion of the annual recruitment that is applied to each category}

\defSub{Ages} {Define the ages within each category that receive recruitment}
\defType{Integer vector}
\defDefault{None}
\defValue{The age classes that receive recruitment}

\defSub{Layer} {Name of the layer used to determine where recruitment occurs}
\defType{String}
\defDefault{None}
\defValue{A valid layer as defined by \command{Layer}. If a numeric layer, then recruitment is in proportion to the layer values. If a logical layer, then recruitment occurs in cells where the layer value is \argument{TRUE}}

\subsubsection[Beverton-Holt recruitment process]{\commandlabsubarg{Process}{Type}{BHRecruitment}}

\defSub{R0} {Define the total amount of recruitment at equilibrium abundance levels}
\defType{Estimable}
\defDefault{None}
\defValue{Total amount (in numbers) of recruitment applied across all categories at equilibrium abundances}

\defSub{Categories} {Define the categories into which recruitment occurs}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Proportions} {Define the proportion of recruitment that occurs into each category}
\defType{Estimable vector of length \commandlabsub{Process}{Categories}}
\defDefault{None}
\defValue{Proportion of the annual recruitment that is applied to each category}

\defSub{Ages} {Define the age within each category that receive recruitment}
\defType{Integer vector}
\defDefault{None}
\defValue{The age classes that receive recruitment}

\defSub{Steepness} {Define the Beverton-Holt stock recruitment relationship steepness ($h$) parameter}
\defType{Estimable}
\defDefault{None}
\defValue{Steepness value between 0.2 and 1.0}

\defSub{SigmaR} {Define the recruitment variability $\sigma_R$ in the stock-recruitment relationship for projections}
\defType{Estimable}
\defDefault{None}

\defSub{Rho} {Define the autocorrelation $\rho$ in the recruitment variability in the stock-recruitment relationship for projections}
\defType{Estimable}
\defDefault{None}

\defSub{SSB} {Define the label of the \command{DerivedParameter} that defines the SSB}
\defType{String}
\defDefault{None}
\defValue{Must be a valid \command{DerivedParameter} label}

\defSub{YCSValues} {YCS values}
\defType{Estimable vector}
\defDefault{None}
\defValue{Must be vector of length equal to \commandlabsub{BHRecruitmentProcess}{YCSYears}}
\defNote{Special values can be used here, i.e., mean, all}

\defSub{YCSYears} {Years for year class strength values}
\defType{Integer vector}
\defDefault{None}
\defValue{Must be vector of that specifies the years of \commandlabsub{BHRecruitmentProcess}{YCSValues}}
\defNote{Special year ranges (YYYY-YYYY) can be used}

\defSub{Layer} {Name of the layer used to determine where recruitment occurs}
\defType{String}
\defDefault{None}
\defValue{A valid layer as defined by \command{Layer}. If a numeric layer, then recruitment is in proportion to the layer values. If a logical layer, then recruitment occurs in cells where the layer value is \argument{TRUE}}

\subsubsection[Ageing process]{\commandlabsubarg{Process}{Type}{Ageing}}

\defSub{Categories} {Define the categories that ageing is applied to}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\subsubsection[Constant mortality rate process]{\commandlabsubarg{Process}{Type}{ConstantMortalityRate}}

\defSub{M} {Define the constant mortality rate to be applied}
\defType{Estimable}
\defDefault{None}
\defValue{A real number $\ge 0$ and $\le 1$}

\defSub{Categories} {Define the categories that mortality is applied to}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Selectivities} {Define the selectivities applied to each category}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels defined by \command{Selectivity}}

\subsubsection[Annual mortality rate process]{\commandlabsubarg{Process}{Type}{AnnualMortalityRate}}

\defSub{Years} {Define the years when the mortality rates are applied}
\defType{Constant vector}
\defDefault{None}
\defValue{Valid model years}

\defSub{M} {Define the mortality rate to be applied for each year}
\defType{Estimable vector}
\defDefault{None}
\defValue{A real number $\ge 0$ and $\le 1$}

\defSub{Categories} {Define the categories that mortality is applied to}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Selectivities} {Define the selectivities applied to each category}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels defined by \command{Selectivity}}

\subsubsection[Event mortality process]{\commandlabsubarg{Process}{Type}{EventMortality}}

\defSub{Categories} {Define the categories that the event mortality is applied to}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Years} {Define the years where the mortality even is applied}
\defType{Integer vector}
\defDefault{None}
\defValue{Valid years for the model}

\defSub{Layers} {Define the layers that specify the event mortality (as the abundance) in each year}
\defType{String vector, of length years}
\defDefault{None}
\defValue{Valid layers defined by \command{Layer}}

\defSub{Umax}{Define the maximum exploitation rate}
\defType{Estimable}
\defDefault{None}
\defValue{Must be $\ge 0$ and $\le 1$}

\defSub{Selectivities} {Define the selectivities applied to each category}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels defined by \command{Selectivity}}

\defSub{Penalty} {Define the event mortality penalty label}
\defType{String}
\defDefault{None}
\defValue{Valid penalty label defined by \command{Penalty}}

\subsubsection[Biomass event mortality process]{\commandlabsubarg{Process}{Type}{BiomassEventMortality}}

\defSub{Categories}{Define the categories that the event mortality is applied to}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{SizeAtAges}{Define the age-weight relationships for each of the categories that the event mortality is applied to}
\defType{String vector}
\defDefault{None}
\defValue{Valid labels from \command{SizeAtAge}}

\defSub{Years}{Define the years where the mortality even is applied}
\defType{Integer vector}
\defDefault{None}
\defValue{Valid years for the model}

\defSub{Layers}{Define the layers that specify the event mortality (as a biomass) in each year}
\defType{String vector, of length years}
\defDefault{None}
\defValue{Valid layers defined by \command{Layer}}

\defSub{Umax} {Define the maximum exploitation rate}
\defType{Constant}
\defDefault{None}
\defValue{Must be $\ge 0$ and $\le 1$}

\defSub{Selectivities}{Define the selectivities applied to each category}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels defined by \command{Selectivity}}

\defSub{Penalty} {Define the event mortality penalty label}
\defType{String}
\defDefault{None}
\defValue{Valid penalty label defined by \command{Penalty}}

\subsubsection[Category transition process]{\commandlabsubarg{Process}{Type}{CategoryTransition}}

\defSub{From} {Define the category that is the source of the transition process}
\defType{String}
\defDefault{None}
\defValue{A valid category from \commandsub{Model}{Categories}}

\defSub{To} {Define the category that is the sink of the transition process}
\defType{String}
\defDefault{None}
\defValue{A valid category from \commandsub{Model}{Categories}}

\defSub{N} {Define the number of individuals to move}
\defType{Estimable}
\defDefault{None}
\defValue{A value $\ge 0$}

\defSub{Selectivity} {Define the selectivity applied to the source category}
\defType{String}
\defDefault{None}
\defValue{A valid selectivity label defined by \command{Selectivity}}

\subsubsection[Category transition rate process]{\commandlabsubarg{Process}{Type}{CategoryTransitionRate}}

\defSub{From} {Define the category that is the source of the transition process}
\defType{String}
\defDefault{None}
\defValue{A valid category from \commandsub{Model}{Categories}}

\defSub{To} {Define the category that is the sink of the transition process}
\defType{String}
\defDefault{None}
\defValue{A valid category from \commandsub{Model}{Categories}}

\defSub{Proportion} {Define the proportion of individuals to move}
\defType{Estimable}
\defDefault{None}
\defValue{A value $\ge 0$ and $\le 1$}

\defSub{Selectivity} {Define the selectivity applied to the source category}
\defType{String}
\defDefault{None}
\defValue{A valid selectivity label defined by \command{Selectivity}}

\subsubsection[Migration movement]{\commandlabsubarg{Process}{Type}{MigrationMovement}}

\defSub{Categories} {Define the categories that the migration movement event is applied to}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{SourceLayer} {Define the label of a layer that defines the source cells of the migration movement event}
\defType{String}
\defDefault{None}
\defValue{A valid layer defined by \command{Layer}}

\defSub{SinkLayer} {Define the label of a layer that defines the sink cells of the migration movement event}
\defType{String}
\defDefault{None}
\defValue{A valid layer defined by \command{Layer}}

\defSub{Proportions} {Define the constant multiplier for the proportions that migrate}
\defType{Estimable}
\defDefault{1.0}
\defValue{A real number between 0 and 1, inclusive}

\defSub{Selectivities} {Define the selectivities applied to each category}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels defined by \command{Selectivity}}

\subsubsection[Adjacent cell movement]{\commandlabsubarg{Process}{Type}{AdjacentCellMovement}}

Not yet implemented. No subcommands have been defined.

\subsubsection[Preference movement]{\commandlabsubarg{Process}{Type}{PreferenceMovement}}

\defSub{Categories} {Define the categories that the preference function movement is applied to}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{PreferenceFunctions} {Define the labels of the individual  preference functions that make up the total preference function}
\defType{String vector}
\defDefault{None}
\defValue{Valid preference function labels defined by \command{PreferenceFunction}}

\subsection{Preference functions}

The individual preference functions available are, 

\begin{itemize}
	\item Constant
	\item Normal
	\item Double-normal
	\item Logistic
	\item Inverse logistic
	\item Exponential-decay
	\item Threshold
	\item Threshold-biomass	
\end{itemize}

Each type of preference function requires a set of subcommands and arguments specific to that function.

\defComLab{PreferenceFunction} {Define a preference function with label}

\defSub{Type} {Define the type of preference function}
\defType{String}
\defDefault{None}
\defValue{A valid type of preference function}

\subsubsection[Constant]{\commandlabsubarg{PreferenceFunction}{Type}{Constant}}

\defSub{Layer} {Defines the layer which supplies the preference function independent variable}
\defType{String}
\defDefault{None}
\defValue{A valid layer defined by \command{Layer}}

\defSub{Alpha} {Defines the multiplicative constant $\alpha$}
\defType{Estimable}
\defDefault{None}

\subsubsection[Normal]{\commandlabsubarg{PreferenceFunction}{Type}{Normal}}

\defSub{Layer} {Defines the layer which supplies the preference function independent variable}
\defType{String}
\defDefault{None}
\defValue{A valid layer defined by \command{Layer}}

\defSub{Alpha} {Defines the multiplicative constant $\alpha$}
\defType{Estimable}
\defDefault{None}

\defSub{Mu} {Defines the $\mu$ parameter of the normal preference function}
\defType{Estimable}
\defDefault{None}

\defSub{Sigma} {Defines the $\sigma$ parameter of the normal preference function}
\defType{Estimable}
\defDefault{None}

\subsubsection[Double-normal]{\commandlabsubarg{PreferenceFunction}{Type}{DoubleNormal}}

\defSub{Layer} {Defines the layer which supplies the preference function independent variable}
\defType{String}
\defDefault{None}
\defValue{A valid layer defined by \command{Layer}}

\defSub{Alpha} {Defines the multiplicative constant $\alpha$}
\defType{Estimable}
\defDefault{None}

\defSub{Mu} {Defines the $\mu$ parameter of the double-normal preference function}
\defType{Estimable}
\defDefault{None}

\defSub{SigmaL} {Defines the $\sigma_L$ parameter of the double-normal preference function}
\defType{Estimable}
\defDefault{None}

\defSub{SigmaR} {Defines the $\sigma_R$ parameter of the double-normal preference function}
\defType{Estimable}
\defDefault{None}

\subsubsection[Logistic]{\commandlabsubarg{PreferenceFunction}{Type}{Logistic}}

\defSub{Layer} {Defines the layer which supplies the preference function independent variable}
\defType{String}
\defDefault{None}
\defValue{A valid layer defined by \command{Layer}}

\defSub{Alpha} {Defines the multiplicative constant $\alpha$}
\defType{Estimable}
\defDefault{None}

\defSub{a50} {Defines the $a_{50}$ parameter of the logistic preference function}
\defType{Estimable}
\defDefault{None}

\defSub{ato95} {Defines the $a_{to95}$ parameter of the logistic preference function}
\defType{Estimable}
\defDefault{None}

\subsubsection[Inverse-logistic]{\commandlabsubarg{PreferenceFunction}{Type}{InverseLogistic}}

\defSub{Layer} {Defines the layer which supplies the preference function independent variable}
\defType{String}
\defDefault{None}
\defValue{A valid layer defined by \command{Layer}}

\defSub{Alpha} {Defines the multiplicative constant $\alpha$}
\defType{Estimable}
\defDefault{None}

\defSub{a50} {Defines the $a_{50}$ parameter of the inverse-logistic preference function}
\defType{Estimable}
\defDefault{None}

\defSub{ato95} {Defines the $a_{to95}$ parameter of the inverse-logistic preference function}
\defType{Estimable}
\defDefault{None}

\subsubsection[Exponential-decay]{\commandlabsubarg{PreferenceFunction}{Type}{ExponentialDecay}}

\defSub{Layer} {Defines the layer which supplies the preference function independent variable}
\defType{String}
\defDefault{None}
\defValue{A valid layer defined by \command{Layer}}

\defSub{Alpha} {Defines the multiplicative constant $\alpha$}
\defType{Estimable}
\defDefault{None}

\defSub{Lambda} {Defines the $\lambda$ parameter of the exponential-decay preference function}
\defType{Estimable}
\defDefault{None}

\subsubsection[Threshold]{\commandlabsubarg{PreferenceFunction}{Type}{Threshold}}

\defSub{Layer} {Defines the layer which supplies the preference function independent variable}
\defType{String}
\defDefault{None}
\defValue{A valid layer defined by \command{Layer}}

\defSub{Categories} {Define the categories are used to calculate the abundance}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Selectivities} {Define the selectivities applied to each category}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels from \command{Selectivity}}

\defSub{Alpha} {Defines the multiplicative constant $\alpha$}
\defType{Estimable}
\defDefault{None}

\defSub{N} {Defines the $N$ parameter of the threshold preference function}
\defType{Estimable}
\defDefault{None}

\defSub{Lambda} {Defines the $\lambda$ parameter of the threshold preference function}
\defType{Estimable}
\defDefault{None}

\subsubsection[Threshold-biomass]{\commandlabsubarg{PreferenceFunction}{Type}{ThresholdBiomass}}

\defSub{Layer} {Defines the layer which supplies the preference function independent variable}
\defType{String}
\defDefault{None}
\defValue{A valid layer defined by \command{Layer}}

\defSub{Categories} {Define the categories are used to calculate the biomass}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Selectivities} {Define the selectivities applied to each category}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels from \command{Selectivity}}

\defSub{SizeAtAges}{Define the age-weight relationships for each of the categories that the biomass is calculated from}
\defType{String vector}
\defDefault{None}
\defValue{Valid labels from \command{SizeAtAge}}

\defSub{Alpha} {Defines the multiplicative constant $\alpha$}
\defType{Estimable}
\defDefault{None}

\defSub{Biomass} {Defines the $B$ biomass parameter of the threshold biomass preference function}
\defType{Estimable}
\defDefault{None}

\defSub{Lambda} {Defines the $\lambda$ parameter of the threshold biomass preference function}
\defType{Estimable}
\defDefault{None}

\subsection{Layers}

The available layer types  are, 

\begin{itemize}
	\item Numeric
	\item Categorical
	\item Distance
	\item Abundance
	\item Biomass
	\item Abundance-density
	\item Biomass-density
	\item Meta-layer
\end{itemize}

\defComLab{Layer} {Define a layer function with label}

\defSub{Type} {Define the type of layer}
\defType{String}
\defDefault{None}
\defValue{A valid type of layer}

\subsubsection[Numeric]{\commandlabsubarg{Layer}{Type}{Numeric}}

\defSub{Data} {Define the values of the layer}
\defType{Constant vector, with total length \commandsub{Model}{Ncols} $\times$ \commandsub{Model}{Nrows}}
\defDefault{None}
\defValue{A vector of values of length equal to the number of elements defined for the spatial structure}

\defSub{Rescale} {Rescale values of the layer}
\defType{Constant}
\defDefault{1.0}
\defValue{Rescales the values in the layer so that they have maximum value defined by the rescaling constant}

\subsubsection[Categorical]{\commandlabsubarg{Layer}{Type}{Categorical}}

\defSub{Row$x$} {Define the values of the layer for row $x$}
\defType{String vector, of length \commandsub{Model}{Ncols}}
\defDefault{None}
\defValue{A vector of values of length equal to the number of columns defined for the spatial structure. There must be exactly $x$ rows defined, one for each row of the spatial structure}

\subsubsection[Distance]{\commandlabsubarg{Layer}{Type}{Distance}}

There are no other subcommands for \commandlabsubarg{Layer}{Type}{Distance}.

\subsubsection[Abundance]{\commandlabsubarg{Layer}{Type}{Abundance}}

\defSub{Categories} {Define the categories are used to calculate the abundance}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Selectivities} {Define the selectivities applied to each category}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels from \command{Selectivity}}

\subsubsection[Biomass]{\commandlabsubarg{Layer}{Type}{Biomass}}

\defSub{Categories} {Define the categories are used to calculate the biomass}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Selectivities} {Define the selectivities applied to each category}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels from \command{Selectivity}}

\defSub{SizeAtAges}{Define the age-weight relationships for each of the categories that the biomass is calculated from}
\defType{String vector}
\defDefault{None}
\defValue{Valid labels from \command{SizeAtAge}}

\subsubsection[Abundance-density]{\commandlabsubarg{Layer}{Type}{AbundanceDensity}}

\defSub{Categories} {Define the categories are used to calculate the abundance}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Selectivities} {Define the selectivities applied to each category}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels from \command{Selectivity}}

\subsubsection[Biomass-density]{\commandlabsubarg{Layer}{Type}{BiomassDensity}}

\defSub{Categories} {Define the categories are used to calculate the biomass}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Selectivities} {Define the selectivities applied to each category}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels from \command{Selectivity}}

\defSub{SizeAtAgess}{Define the age-weight relationships for each of the categories that the biomass is calculated from}
\defType{String vector}
\defDefault{None}
\defValue{Valid labels from \command{SizeAtAge}}

\subsubsection[MetaLayer]{\commandlabsubarg{Layer}{Type}{MetaLayer}}

\defSub{Years} {Define the years}
\defType{Constant vector, with values for each year of the model}
\defDefault{None}

\defSub{Layers} {Define the layer labels for each of the years}
\defType{String vector, with values for each \argument{year} specified}
\defDefault{None}
\defCondition{Layers cannot be \commandlabsubarg{Layer}{Type}{MetaLayer}}

\subsection{Derived quantities}

The individual types of derived quantities available are, 

\begin{itemize}
	\item Abundance
	\item Biomass
\end{itemize}

\defComLab{DerivedQuantity} {Define a derived quantity with label}

\defSub{Type} {Define the type of derived quantity}
\defType{String}
\defDefault{None}
\defValue{A valid type of derived quantity}

\subsubsection[Abundance]{\commandlabsubarg{DerivedQuantity}{Type}{Abundance}}

\defSub{Categories} {Define the categories are used to calculate the derived quantity}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Selectivity} {Define the selectivities}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labels from \command{Selectivity}}

\defSub{TimeStep} {Define the time step at the end of which, the derived quantity is calculated}
\defType{String}
\defDefault{None}
\defValue{A valid time step label from \command{TimeStep}}

\subsubsection[Biomass]{\commandlabsubarg{DerivedQuantity}{Type}{Biomass}}

\defSub{Categories} {Define the categories are used to calculate the derived quantity}
\defType{String vector}
\defDefault{None}
\defValue{Valid categories from \commandsub{Model}{Categories}}

\defSub{Selectivity} {Define the selectivities}
\defType{String vector}
\defDefault{None}
\defValue{Valid selectivity labela from \command{Selectivity}}

\defSub{TimeStep} {Define the time step at the end of which, the derived quantity is calculated}
\defType{String}
\defDefault{None}
\defValue{A valid time step label from \command{TimeStep}}

\subsection{Size-at-age}

The individual types of size-at-age relationship available are, 

\begin{itemize}
	\item von Bertalanffy
	\item Schnute
\end{itemize}

\defComLab{SizeAtAge} {Define a size-at-age relationship with label}

\defSub{Type} {Define the type of relationship}
\defType{String}
\defDefault{None}
\defValue{A valid type of size-at-age relationship}

\subsubsection[von Bertalanffy]{\commandlabsubarg{SizeAtAge}{Type}{vonBert}}

\defSub{Linf} {Define the $L_\infty$ parameter of the von Bertalanffy relationship}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\defSub{k} {Define the $k$ parameter of the von Bertalanffy relationship}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\defSub{t0} {Define the $t_0$ parameter of the von Bertalanffy relationship}
\defType{Estimable}
\defDefault{None}
\defValue{A real number}

\defSub{Distribution} {Define the distribution of sizes-at-age around the mean}
\defType{String}
\defDefault{Normal}
\defValue{Either normal or lognormal}

\defSub{ByLength} {Specifies if the linear interpolation of c.v.s is a linear function of mean size or of age}
\defType{Logical}
\defDefault{True}
\defValue{If true, the the c.v. is a function of length, else a function of age}

\defSub{cv} {Define the c.v. of the distribution of sizes-at-age around the mean}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\defSub{GrowthProps} {Define the proportion of the year for each time step for evaluating size}
\defType{Constant vector}
\defDefault{None}
\defValue{A vector of values, $\le1$ of length equal to the number of time steps}

\defSub{SizeWeight} {Define the label of the associated size-weight relationship}
\defType{String}
\defDefault{None}
\defValue{A valid label from \command{SizeWeight}}

\subsubsection[Schnute]{\commandlabsubarg{SizeAtAge}{Type}{Schnute}}

\defSub{y1} {Define the $y_1$ parameter of the Schnute relationship}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\defSub{y2} {Define the $y_2$ parameter of the Schnute relationship}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\defSub{tau1} {Define the $\tau_1$ parameter of the Schnute relationship}
\defType{Estimable}
\defDefault{None}
\defValue{A real number}

\defSub{tau2} {Define the $\tau_2$ parameter of the Schnute relationship}
\defType{String}
\defDefault{Normal}
\defValue{Either normal or lognormal}

\defSub{a} {Define the $a$ parameter of the Schnute relationship}
\defType{String}
\defDefault{Normal}
\defValue{Either normal or lognormal}

\defSub{b} {Define the $b$ parameter of the Schnute relationship}
\defType{String}
\defDefault{Normal}
\defValue{Either normal or lognormal}

\defSub{ByLength} {Specifies if the linear interpolation of c.v.s is a linear function of mean size or of age}
\defType{Logical}
\defDefault{True}
\defValue{If true, the the c.v. is a function of length, else a function of age}

\defSub{cv} {Define the c.v. of the distribution of sizes-at-age around the mean}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\defSub{GrowthProps} {Define the proportion of the year for each time step for evaluating size}
\defType{Constant vector}
\defDefault{None}
\defValue{A vector of values, $\le1$ of length equal to the number of time steps}

\defSub{SizeWeight} {Define the label of the associated size-weight relationship}
\defType{String}
\defDefault{None}
\defValue{A valid label from \command{SizeWeight}}

\subsection{Size-weight}

The individual types of size-weight relationship available are, 

\begin{itemize}
	\item None
	\item Basic
\end{itemize}

\defComLab{SizeWeight} {Define a size-weight relationship with label}

\defSub{Type} {Define the type of relationship}
\defType{String}
\defDefault{None}
\defValue{A valid type of size-weight relationship}

\subsubsection[None]{\commandlabsubarg{SizeWeight}{Type}{None}}

There are no other subcommands for \commandlabsubarg{SizeWeight}{Type}{None}.

\subsubsection[Basic]{\commandlabsubarg{SizeWeight}{Type}{Basic}}

\defSub{a} {Define the $a$ parameter of the basic relationship}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\defSub{b} {Define the $b$ parameter of the basic relationship}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\subsection{Selectivities}

The individual selectivity functions available are, 

\begin{itemize}
	\item Constant
	\item Knife-edge
	\item All-values
	\item All-values-bounded
	\item Increasing
	\item Logistic
	\item Logistic-producing
	\item Double-normal
	\item Double-exponential
\end{itemize}

Each type of selectivity function requires a set of subcommands and arguments specific to that function.

\defComLab{Selectivity} {Define a selectivity function with label}

\defSub{Type} {Define the type of selectivity function}
\defType{String}
\defDefault{None}
\defValue{A valid type of selectivity function}

\subsubsection[Constant]{\commandlabsubarg{Selectivity}{Type}{Constant}}

\defSub{C} {Defines the $C$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\subsubsection[Knife-edge]{\commandlabsubarg{Selectivity}{Type}{KnifeEdge}}

\defSub{E} {Defines the $E$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\subsubsection[All-values]{\commandlabsubarg{Selectivity}{Type}{AllValues}}

\defSub{V} {Defines the $V$ parameters (one for each age class) of the selectivity function}
\defType{Estimable vector}
\defDefault{None}
\defValue{A vector of positive real numbers, of length equal to the number of age classes}

\subsubsection[All-values-bounded]{\commandlabsubarg{Selectivity}{Type}{AllValuesBounded}}

\defSub{L} {Defines the $L$ parameter of the selectivity function}
\defType{Integer}
\defDefault{None}
\defValue{A positive real number}

\defSub{H} {Defines the $H$ parameter of the selectivity function}
\defType{Integer}
\defDefault{None}
\defValue{A positive real number, must be greater than $L$}

\defSub{V} {Defines the $V$ parameters (one for each age class from $L$ to $H$) of the selectivity function}
\defType{Estimable vector}
\defDefault{None}
\defValue{A vector of positive real numbers, of length equal to the number of age classes from $L$ to $H$}

\subsubsection[Increasing]{\commandlabsubarg{Selectivity}{Type}{Increasing}}

\defSub{L} {Defines the $L$ parameter of the selectivity function}
\defType{Integer}
\defDefault{None}
\defValue{A positive real number}

\defSub{H} {Defines the $H$ parameter of the selectivity function}
\defType{Integer}
\defDefault{None}
\defValue{A positive real number, must be greater than $L$}

\defSub{V} {Defines the $V$ parameters (one for each age class from $L$ to $H$) of the selectivity function}
\defType{Estimable vector}
\defDefault{None}
\defValue{A vector of positive real numbers, of length equal to the number of age classes from $L$ to $H$}

\subsubsection[Logistic]{\commandlabsubarg{Selectivity}{Type}{Logistic}}

\defSub{a50} {Defines the $a_{50}$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\defSub{ato95} {Defines the $a_{to95}$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\subsubsection[Logistic producing]{\commandlabsubarg{Selectivity}{Type}{LogisticProducing}}

\defSub{L} {Defines the $L$ parameter of the selectivity function}
\defType{Integer}
\defDefault{None}
\defValue{A positive real number}

\defSub{H} {Defines the $H$ parameter of the selectivity function}
\defType{Integer}
\defDefault{None}
\defValue{A positive real number, must be greater than $L$}

\defSub{a50} {Defines the $a_{50}$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\defSub{ato95} {Defines the $a_{to95}$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}
\defValue{A positive real number}

\subsubsection[Double-normal]{\commandlabsubarg{Selectivity}{Type}{DoubleNormal}}

\defSub{Mu} {Defines the $\mu$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}

\defSub{SigmaL} {Defines the $\sigma_L$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}

\defSub{SigmaR} {Defines the $\sigma_R$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}

\subsubsection[Double-exponential]{\commandlabsubarg{Selectivity}{Type}{DoubleExponential}}

\defSub{x1} {Defines the $x_1$ parameter of the selectivity function}
\defType{Integer}
\defDefault{None}

\defSub{x2} {Defines the $x_2$ parameter of the selectivity function}
\defType{Integer}
\defDefault{None}

\defSub{x0} {Defines the $x_0$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}

\defSub{y0} {Defines the $y_0$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}

\defSub{y1} {Defines the $y_1$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}

\defSub{y2} {Defines the $y_2$ parameter of the selectivity function}
\defType{Estimable}
\defDefault{None}
